学习笔记

#### RMQ 问题

RMQ(x, y)就是询问数组[x,y]区间内部的最小值
例如：RMQ(0, 3) = 1, RMQ(3, 7) = 2

最少记录如图 4 个标记颜色的元素，即可满足 RMQ(x, 7)的所有需求
注意：标记颜色的元素，构成了一个单调递增的序列

![image-20210702125734278](/Users/xushuxin/Library/Application Support/typora-user-images/image-20210702125734278.png)

结论：

维护一个以 j 位置为结尾的单调递增序列，就可以维护 RMQ(i, j) 的答案
，即以 j 为结尾的任意区间的最小值

在加上区间长度限制，这就是「单调队列」了

#### 单调队列的维护过程

相当于一个移动的窗口，从数组开始向后移动，移动过程中记录窗口中的最小（大）值，将所有出现的最小值放入队列就是一个单调递增队列

- 入队操作：
  队尾入队，会把之前破坏单调性的元素都从队尾移出（维护单调性）
- 出队操作：
  如果队首元素超出区间范围，就将元素从队首出队
- 元素性质：
  队首元素，永远是当前维护区间的（最大/最小）值

**单调队列维护的就是滑动窗口的最值，本质所解决的问题是：固定结尾的 RMQ 问题**
