#### 题目一：有没有写过 Koa 中间件，说下中 间件原理，介绍下自己写过的中间件?

重点在于 中间件本质上是函数，有同步及异步函数。中间件执行会遵循洋葱模型。后面是否写过中间件就是平时的积累了 。可以大概举一些例子，如token校验，log日志中间，数据处理中间件，等等。

![image-20210509095459851](/Users/xushuxin/Library/Application Support/typora-user-images/image-20210509095459851.png)

#### 题目二：如何判断当前脚本运行在浏览器还是node环境中？

这个题目，关键是2个考点 ：1是前端环境 和 nodejs环境的异同。例如 浏览器端的window 或者是node端的process 全局对象 global 对象等等 。 2.另外其实适配不同平台也是 适配器模式的一种体现，所以能给面试官讲讲适配器模式 也会增色不少

axios源码中的适配器：

![image-20210509095748458](/Users/xushuxin/Library/Application Support/typora-user-images/image-20210509095748458.png)

#### 题目三：请描述一下 cookies sessionStorage和localstorage区别？

相同点：都存储在客户端

不同点：

1.存储大小

   ```text
cookie数据大小不能超过4k。
sessionStorage和localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大。
   ```

 2.有效时间

   ```text
 localStorage    存储持久数据，浏览器关闭后数据不丢失除非主动删除数据；
 sessionStorage  数据在当前页面关闭后自动删除。
 cookie          设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭
   ```

   3.数据与服务器之间的交互方式

   ```text
 cookie的数据会自动的传递到服务器，服务器端也可以写cookie到客户端
 sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存。
   ```

![image-20210509100107201](/Users/xushuxin/Library/Application Support/typora-user-images/image-20210509100107201.png)

